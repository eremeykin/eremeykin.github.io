---
title: Bridge
tags:
- 'тип: структурный'
- 'уровень: компонент'
- GoF
- abstract
- abstract class
- delegation
- interface
- слой абстракции
show_excerpt: true
---

Bridge предлагает разделить иерархию классов на две независимые, но
взаимосвязанные структуры, одна из которых представляет абстракцию, а другая -
реализацию.

<!--more-->

<style>
    .wrap {
        padding-bottom: 25px;
    }
</style>

## Назначение

Bridge предлагает разделить иерархию классов на две независимые, но
взаимосвязанные структуры, одна из которых представляет абстракцию, а другая -
реализацию.

- позволяет обойти проблему Декартова произведения
- из абстракций и реализаций можно конструировать различные сочетания, в том
  числе динамически, применяя их в различных сочетаниях
- повышает степень переиспользования кода: код, который дублировался в классах,
реализующих различные сочетания абстракций, теперь описан в одном месте
- легко расширить существующую структуру классов, добавив ещё один класс,
  реализующий абстракцию.

## Описание
Допустим, требуется реализовать функционал, который, в некотором аспекте может
быть разложен на два раздельных, но взаимодействующих слоя абстракций.
Реализации этих абстракций должны быть взаимно сочетаемы в любой комбинации.
Например, необходимо реализовать функционал обработки данных с датчиков. Датчики
сами по себе могут быть различных типов: простые, усредняющие, потоковые. В то
же время датчики этих типов производятся различными компаниями, которые имеют
свои особенности. Этот функционал раскладывается на два слоя абстракций: тип
датчика и его производитель. В такой ситуации паттерн Bridge предлагает
произвести отображение двух указанных слоев абстракций в соответствующие им
иерархии классов. Между иерархиями устанавливается связь: экземпляры одной
иерархии имеют ссылку на экземпляр другой, делегируя ей специфические операции.
Связь между иерархиями как раз и образует "мост".

## Реализация


<p align="center">
  <img src="/assets/images/2021/03/bridge.png" />
</p>

<div class="grid grid--px-0">
  <div class="cell cell--lg-3 cell--3"><b><i>Abstraction</i></b></div>
  <div class="cell cell--auto"><i>View</i></div>
  <div class="cell cell--lg-12 wrap">Абстракция, верхнего уровня, содержащая ссылку на экземпляр <code>impl</code> реализации</div>

  <div class="cell cell--lg-3 cell--3"><b>Implementation</b></div>
  <div class="cell cell--auto">MediaResource</div>
  <div class="cell cell--lg-12 wrap">Реализация, описываемая через общий интерфейс и предоставляющая некоторый функционал для абстракции</div>

  <div class="cell cell--lg-3 cell--3"><b>ConcreteAbstraction</b></div>
  <div class="cell cell--auto">LongFormView, ShortFormView</div>
  <div class="cell cell--lg-12 wrap">Конкретная абстракция, которая делегирует специфический функционал экземпляру конкретной реализации</div>

  <div class="cell cell--lg-3 cell--3"><b>ConcreteImplementation</b></div>
  <div class="cell cell--auto">ArtistMediaResource, BookMediaResource</div>
  <div class="cell cell--lg-12 wrap">Конкретная реализация некоторого функционала (часто адаптер для существующего объекта)</div>
</div>

## Примеры

## Чем отличается

## Варианты

## Справка
Декартово произведение:
$ A\times B = \\{(x,y)|x \in A, y \in B \\} $

Свойства:

$$ |A\times B| = |A| \cdot |B| $$

$$ |A^n| = |A|^n $$

## Ссылки
[https://java-design-patterns.com/patterns/bridge/](https://java-design-patterns.com/patterns/bridge/)

[https://github.com/iluwatar/java-design-patterns/tree/master/bridge](https://github.com/iluwatar/java-design-patterns/tree/master/bridge)

[https://refactoring.guru/design-patterns/bridge](https://refactoring.guru/design-patterns/bridge)

[YouTube: Bridge Pattern – Design Patterns (ep 11)](https://www.youtube.com/watch?v=F1YQ7YRjttI&list=PLrhzvIcii6GNjpARdnO4ueTUAVR9eMBpc&index=11)
